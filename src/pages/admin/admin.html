<!--
  Generated template for the AdminPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <!-- <button ion-button clear [navPush]="firstPage"><ion-icon name="arrow-back" style="color: #FF9900"></ion-icon></button> -->

    <ion-buttons end >
      <button ion-button icon-only (click)="logout()" *ngIf="connected">
        Logout
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content padding class="back">
  <!-- <ion-card>

    <ion-card-content>
    <img src="assets/imgs/logo.png" class="logo">
      <p style="text-align:center; margin-top:10px">Are you over 18?</p>
      <button ion-button outline [navPush]="customerinfoPage" class="btn">Yes</button>
      <button ion-button outline onclick="unsuccessful()" class="btn">No</button>
    </ion-card-content>

  </ion-card> -->

  <ion-grid style="height: 100%">
    <ion-row justify-content-center align-items-center style="height: 100%">

      <div style="width:100%" *ngIf="!connected">
        <form [formGroup]="loginForm">

          <ion-list>

            <ion-item class="alignele">
              <ion-label stacked>Email</ion-label>
              <ion-input type="email" [(ngModel)]="email" formControlName="email" placeholder="email@example.com"></ion-input>
            </ion-item>


            <ion-item class="alignele">
              <ion-label stacked>Password</ion-label>
              <ion-input type="password" [(ngModel)]="password" formControlName="password" placeholder="Password"></ion-input>
            </ion-item>

          </ion-list>

          <button ion-button class="center" [disabled]="!loginForm.valid" (click)="login()">Login</button>

        </form>
      </div>

      <div style="width:100%" *ngIf="connected">
        <p><span style="color: green">{{formsCount}}</span> + <span style="color:red">{{rejectedFormsCount}}</span> unsynced forms</p>
        <button ion-button class="center btn-admin" (click)='postRequest()'>Sync Forms</button>
        <button ion-button class="center btn-admin" (click)='refreshAppData()'> Refresh App Data</button>
      </div>
    </ion-row>
  </ion-grid>

</ion-content>
